<md-dialog aria-label="Notifications"  ng-cloak>
    <form>
        <md-toolbar>
            <div class="md-toolbar-tools mob-primary">
                <md-button class="md-icon-button" ng-click="cancel()">
                    <md-icon class="ion ion-android-arrow-back" aria-label="Close dialog"></md-icon>
                </md-button>
                <span flex></span>
                <h4>Notifications</h4>
                <span flex></span>
                <md-button class="md-icon-button">
                    <!--<md-icon class="ion ion-android-more-vertical" aria-label="Close dialog"></md-icon>-->
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content>
            <div class="md-dialog-content">
                <div layout="row" layout-wrap>
                    <div flex="100" layout="column">
                        <div ng-show="nfications.length > '0'">
                            <md-list class="md-dense" flex>
                                <md-subheader class="md-no-sticky">
                                    <a class="md-button md-raised mob-primary mob-btn-block" ng-click="MarkAsRead()">mark all as read</a>
                                </md-subheader>
                                <md-list-item class="md-3-line" ng-repeat="n in nfications">
                                    <a href="/u/{{n.initiator}}"><img ng-src="user/{{n.initiator}}/{{n.avatar}}" alt="{{n.initiator}}" class="md-avatar" /></a>
                                    <div class="md-list-item-text" layout="column">
                                        {{n.app}}<span ng-if="n.type === 's'"> on <a href="/t/{{n.name}}">{{n.name}}</a></span>
                                        <span ng-show="n.type === 's'"><a href="/u/{{n.initiator}}/room">{{n.note}}</a></span>
                                        <span ng-hide="n.type === 's'">{{n.note}}</span> {{n.date_time}}
                                        <button class="md-button md-raised mob-primary" ng-click="markAsReadd(n.nofeid , $index)">seen</button>
                                    </div>
                                    <md-divider ></md-divider>
                                </md-list-item>
                            </md-list>
                        </div>
                        <div ng-show="nfications.length === 0">
                            <span class="text-center">You have no notifications at the moment</span>
                        </div>
                    </div>
                </div>
            </div>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <span flex></span>
        </md-dialog-actions>
    </form>
</md-dialog>

